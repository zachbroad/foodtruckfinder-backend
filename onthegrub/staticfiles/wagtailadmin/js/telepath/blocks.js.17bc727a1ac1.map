{"version":3,"sources":["webpack://wagtail/./client/src/components/StreamField/blocks/BaseSequenceBlock.js","webpack://wagtail/./client/src/components/StreamField/blocks/FieldBlock.js","webpack://wagtail/./client/src/components/StreamField/blocks/ListBlock.js","webpack://wagtail/./client/src/components/StreamField/blocks/StaticBlock.js","webpack://wagtail/./client/src/components/StreamField/blocks/StreamBlock.js","webpack://wagtail/./client/src/components/StreamField/blocks/StructBlock.js","webpack://wagtail/./client/src/entrypoints/admin/telepath/blocks.js","webpack://wagtail/./client/src/utils/text.ts","webpack://wagtail/./node_modules/uuid/dist/esm-browser/rng.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/regex.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/validate.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/v1.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/parse.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/v35.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/md5.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/v3.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/v4.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/sha1.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/v5.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/nil.js","webpack://wagtail/./node_modules/uuid/dist/esm-browser/version.js","webpack://wagtail/webpack/bootstrap","webpack://wagtail/webpack/runtime/compat get default export","webpack://wagtail/webpack/runtime/define property getters","webpack://wagtail/webpack/runtime/global","webpack://wagtail/webpack/runtime/harmony module decorator","webpack://wagtail/webpack/runtime/hasOwnProperty shorthand","webpack://wagtail/webpack/runtime/make namespace object","webpack://wagtail/webpack/runtime/runtimeId","webpack://wagtail/webpack/runtime/jsonp chunk loading","webpack://wagtail/webpack/startup"],"names":["__read","this","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__values","s","length","TypeError","exports","__esModule","BaseSequenceBlock","BaseInsertionControl","BaseSequenceChild","text_1","blockDef","placeholder","prefix","index","id","initialState","opts","_this","type","name","animate","onRequestDuplicate","onRequestDelete","onRequestMoveUp","onRequestMoveDown","collapsed","strings","dom","$","escapeHtml","meta","icon","label","MOVE_UP","MOVE_DOWN","DUPLICATE","DELETE","replaceWith","element","get","blockElement","find","duplicateButton","click","titleElement","contentElement","toggleCollapsedState","deletedInput","indexInput","moveUpButton","moveDownButton","block","render","collapse","hide","setTimeout","slideDown","prototype","markDeleted","_a","_b","val","slideUp","dequeue","fadeOut","attr","contentPath","window","comments","getContentPath","commentApp","invalidateContentPath","enableDuplication","removeAttr","disableDuplication","enableMoveUp","disableMoveUp","enableMoveDown","disableMoveDown","setIndex","newIndex","setError","focus","getTextLabel","maxLength","text","expand","show","onRequestInsert","_createChild","Error","_createInsertionControl","_getChildDataForInsertion","clear","countInput","sequenceContainer","empty","children","blockCounter","document","createElement","append","inserters","_onRequestInsert","_insert","soft","childBlockDef","existingInserterElement","blockPlaceholder","inserterPlaceholder","insertAfter","child","duplicateBlock","deleteBlock","moveBlock","splice","inserter","inserterOpts","isFirstChild","isLastChild","oldIndex","inserterToMove","childToMove","insertBefore","maxIndex","setState","values","forEach","insert","getState","map","getValue","e_1","result","_c","childLabel","newResult","endsWith","e_1_1","FieldBlockDefinition","FieldBlock","initialError","classname","widgetElement","widget","console","idForLabel","helpText","helpElement","classList","add","innerHTML","querySelector","appendChild","showAddCommentButton","fieldCommentControlElement","addCommentButtonElement","setAttribute","ADD_COMMENT","initAddCommentButton","state","errorList","querySelectorAll","remove","errorElement","join","extendStatics","__extends","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","String","__","constructor","create","ListBlockDefinition","ListBlock","ListBlockValidationError","BaseSequenceBlock_1","blockErrors","ListChild","_super","apply","arguments","InsertPosition","button","ADD","helpIcon","initialChildState","childState","blockIndex","StaticBlockDefinition","StaticBlock","html","_state","_errorList","StreamBlockDefinition","StreamBlock","StreamBlockValidationError","uuid_1","nonBlockErrors","StreamChild","StreamBlockMenu","groupedChildBlockDefs","addButton","toggle","outerContainer","innerContainer","hasRenderedMenu","isOpen","canAddBlock","disabledBlockTypes","Set","close","renderMenu","group","blockDefs","heading","grid","blockType","setNewBlockRestrictions","open","addClass","removeClass","container","checkBlockCounts","maxNum","_loop_1","this_1","blockCounts","counts","max_num","filter","has","childBlockDefsByName","initialChildStates","v4","errorText","innerText","childNodes","StructBlockDefinition","StructBlock","StructBlockValidationError","childBlocks","formTemplate","replace","dom_1","childBlockDefs","childBlockElement","childBlock","dom_2","childDom","required","labelElement","name_1","blockName","name_2","name_3","childDef","firstChildName","FieldBlock_1","StaticBlock_1","StructBlock_1","ListBlock_1","StreamBlock_1","initBlockWidget","body","getElementById","blockDefData","JSON","parse","dataset","telepath","unpack","blockValue","errors","register","unsafe","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","uuid","byteToHex","toString","substr","_nodeId","_clockseq","arr","offset","undefined","toLowerCase","_lastMSecs","_lastNSecs","options","buf","node","clockseq","seedBytes","random","msecs","Date","now","nsecs","dt","tl","tmh","v","parseInt","slice","version","hashfunc","generateUUID","namespace","str","unescape","encodeURIComponent","bytes","charCodeAt","stringToBytes","set","err","DNS","URL","getOutputLength","inputLength8","safeAdd","x","y","lsw","md5cmn","q","a","t","num","cnt","md5ff","c","md5gg","md5hh","md5ii","v35","msg","input","output","length32","hexTab","hex","charAt","md5ToHexEncodedArray","len","olda","oldb","oldc","oldd","wordsToMd5","length8","Uint32Array","bytesToWords","rnds","f","z","ROTL","K","H","isArray","l","N","Math","ceil","M","_i","j","pow","floor","_i2","W","_t","_t2","T","__webpack_module_cache__","__webpack_require__","moduleId","module","loaded","__webpack_modules__","getter","definition","key","defineProperty","enumerable","g","globalThis","Function","hmd","obj","prop","toStringTag","installedChunks","849","deferredModules","checkDeferredModules","webpackJsonpCallback","parentChunkLoadingFunction","data","chunkId","chunkIds","moreModules","runtime","executeModules","resolves","shift","chunkLoadingGlobal","self","checkDeferredModulesImpl","deferredModule","fulfilled","depId","startup"],"mappings":"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","file":"wagtail\\admin\\static\\wagtailadmin\\js\\telepath\\blocks.js","sourcesContent":["\"use strict\";\r\n/* eslint-disable no-underscore-dangle */\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __values = (this && this.__values) || function(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n};\r\nexports.__esModule = true;\r\nexports.BaseSequenceBlock = exports.BaseInsertionControl = exports.BaseSequenceChild = void 0;\r\n/* global $ */\r\nvar text_1 = require(\"../../../utils/text\");\r\nvar BaseSequenceChild = /** @class */ (function () {\r\n    function BaseSequenceChild(blockDef, placeholder, prefix, index, id, initialState, opts) {\r\n        var _this = this;\r\n        this.blockDef = blockDef;\r\n        this.type = blockDef.name;\r\n        this.prefix = prefix;\r\n        this.index = index;\r\n        this.id = id;\r\n        var animate = opts && opts.animate;\r\n        this.onRequestDuplicate = opts && opts.onRequestDuplicate;\r\n        this.onRequestDelete = opts && opts.onRequestDelete;\r\n        this.onRequestMoveUp = opts && opts.onRequestMoveUp;\r\n        this.onRequestMoveDown = opts && opts.onRequestMoveDown;\r\n        this.collapsed = opts && opts.collapsed;\r\n        var strings = (opts && opts.strings) || {};\r\n        var dom = $(\"\\n      <div aria-hidden=\\\"false\\\" \" + (this.id ? \"data-contentpath=\\\"\" + text_1.escapeHtml(this.id) + \"\\\"\" : 'data-contentpath-disabled') + \">\\n        <input type=\\\"hidden\\\"  name=\\\"\" + this.prefix + \"-deleted\\\" value=\\\"\\\">\\n        <input type=\\\"hidden\\\" name=\\\"\" + this.prefix + \"-order\\\" value=\\\"\" + index + \"\\\">\\n        <input type=\\\"hidden\\\" name=\\\"\" + this.prefix + \"-type\\\" value=\\\"\" + text_1.escapeHtml(this.type || '') + \"\\\">\\n        <input type=\\\"hidden\\\" name=\\\"\" + this.prefix + \"-id\\\" value=\\\"\" + text_1.escapeHtml(this.id || '') + \"\\\">\\n\\n        <div>\\n          <div class=\\\"c-sf-container__block-container\\\">\\n            <div class=\\\"c-sf-block\\\">\\n              <div data-block-header class=\\\"c-sf-block__header c-sf-block__header--collapsible\\\">\\n                <span class=\\\"c-sf-block__header__icon\\\">\\n                  <i class=\\\"icon icon-\" + text_1.escapeHtml(this.blockDef.meta.icon) + \"\\\"></i>\\n                </span>\\n                <h3 data-block-title class=\\\"c-sf-block__header__title\\\"></h3>\\n                <div class=\\\"c-sf-block__actions\\\">\\n                  <span class=\\\"c-sf-block__type\\\">\" + text_1.escapeHtml(this.blockDef.meta.label) + \"</span>\\n                  <button type=\\\"button\\\" data-move-up-button class=\\\"c-sf-block__actions__single\\\"\\n                      disabled title=\\\"\" + text_1.escapeHtml(strings.MOVE_UP) + \"\\\">\\n                    <i class=\\\"icon icon-arrow-up\\\" aria-hidden=\\\"true\\\"></i>\\n                  </button>\\n                  <button type=\\\"button\\\" data-move-down-button class=\\\"c-sf-block__actions__single\\\"\\n                      disabled title=\\\"\" + text_1.escapeHtml(strings.MOVE_DOWN) + \"\\\">\\n                    <i class=\\\"icon icon-arrow-down\\\" aria-hidden=\\\"true\\\"></i>\\n                  </button>\\n                  <button type=\\\"button\\\" data-duplicate-button\\n                      class=\\\"c-sf-block__actions__single\\\" title=\\\"\" + text_1.escapeHtml(strings.DUPLICATE) + \"\\\">\\n                    <i class=\\\"icon icon-duplicate\\\" aria-hidden=\\\"true\\\"></i>\\n                  </button>\\n                  <button type=\\\"button\\\" data-delete-button\\n                      class=\\\"c-sf-block__actions__single\\\" title=\\\"\" + text_1.escapeHtml(strings.DELETE) + \"\\\">\\n                    <i class=\\\"icon icon-bin\\\" aria-hidden=\\\"true\\\"></i>\\n                  </button>\\n                </div>\\n              </div>\\n              <div data-block-content class=\\\"c-sf-block__content\\\" aria-hidden=\\\"false\\\">\\n                <div class=\\\"c-sf-block__content-inner\\\">\\n                  <div data-streamfield-block></div>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    \");\r\n        $(placeholder).replaceWith(dom);\r\n        this.element = dom.get(0);\r\n        var blockElement = dom.find('[data-streamfield-block]').get(0);\r\n        this.duplicateButton = dom.find('button[data-duplicate-button]');\r\n        this.duplicateButton.click(function () {\r\n            if (_this.onRequestDuplicate)\r\n                _this.onRequestDuplicate(_this.index);\r\n            return false; // don't propagate to header's onclick event (which collapses the block)\r\n        });\r\n        this.titleElement = dom.find('[data-block-title]');\r\n        this.contentElement = dom.find('[data-block-content]');\r\n        dom.find('[data-block-header]').click(function () {\r\n            _this.toggleCollapsedState();\r\n        });\r\n        dom.find('button[data-delete-button]').click(function () {\r\n            if (_this.onRequestDelete)\r\n                _this.onRequestDelete(_this.index);\r\n            return false; // don't propagate to header's onclick event (which collapses the block)\r\n        });\r\n        this.deletedInput = dom.find(\"input[name=\\\"\" + this.prefix + \"-deleted\\\"]\");\r\n        this.indexInput = dom.find(\"input[name=\\\"\" + this.prefix + \"-order\\\"]\");\r\n        this.moveUpButton = dom.find('button[data-move-up-button]');\r\n        this.moveUpButton.click(function () {\r\n            if (_this.onRequestMoveUp)\r\n                _this.onRequestMoveUp(_this.index);\r\n            return false; // don't propagate to header's onclick event (which collapses the block)\r\n        });\r\n        this.moveDownButton = dom.find('button[data-move-down-button]');\r\n        this.moveDownButton.click(function () {\r\n            if (_this.onRequestMoveDown)\r\n                _this.onRequestMoveDown(_this.index);\r\n            return false; // don't propagate to header's onclick event (which collapses the block)\r\n        });\r\n        this.block = this.blockDef.render(blockElement, this.prefix + '-value', initialState);\r\n        if (this.collapsed) {\r\n            this.collapse();\r\n        }\r\n        if (animate) {\r\n            dom.hide();\r\n            setTimeout(function () {\r\n                dom.slideDown();\r\n            }, 10);\r\n        }\r\n    }\r\n    BaseSequenceChild.prototype.markDeleted = function (_a) {\r\n        var _b = _a.animate, animate = _b === void 0 ? false : _b;\r\n        this.deletedInput.val('1');\r\n        if (animate) {\r\n            $(this.element).slideUp().dequeue()\r\n                .fadeOut()\r\n                .attr('aria-hidden', 'true');\r\n        }\r\n        else {\r\n            $(this.element).hide().attr('aria-hidden', 'true');\r\n        }\r\n        // Inform the comment app that the content path of this block is no longer valid\r\n        // This will hide any comments that were previously on the block\r\n        var contentPath = window.comments.getContentPath(this.element);\r\n        if (contentPath && window.comments.commentApp) {\r\n            window.comments.commentApp.invalidateContentPath(contentPath);\r\n        }\r\n    };\r\n    BaseSequenceChild.prototype.enableDuplication = function () {\r\n        this.duplicateButton.removeAttr('disabled');\r\n    };\r\n    BaseSequenceChild.prototype.disableDuplication = function () {\r\n        this.duplicateButton.attr('disabled', 'true');\r\n    };\r\n    BaseSequenceChild.prototype.enableMoveUp = function () {\r\n        this.moveUpButton.removeAttr('disabled');\r\n    };\r\n    BaseSequenceChild.prototype.disableMoveUp = function () {\r\n        this.moveUpButton.attr('disabled', 'true');\r\n    };\r\n    BaseSequenceChild.prototype.enableMoveDown = function () {\r\n        this.moveDownButton.removeAttr('disabled');\r\n    };\r\n    BaseSequenceChild.prototype.disableMoveDown = function () {\r\n        this.moveDownButton.attr('disabled', 'true');\r\n    };\r\n    BaseSequenceChild.prototype.setIndex = function (newIndex) {\r\n        this.index = newIndex;\r\n        this.indexInput.val(newIndex);\r\n    };\r\n    BaseSequenceChild.prototype.setError = function (error) {\r\n        this.block.setError(error);\r\n    };\r\n    BaseSequenceChild.prototype.focus = function (opts) {\r\n        this.block.focus(opts);\r\n    };\r\n    BaseSequenceChild.prototype.getTextLabel = function (opts) {\r\n        if (this.block.getTextLabel) {\r\n            return this.block.getTextLabel(opts);\r\n        }\r\n        return null;\r\n    };\r\n    BaseSequenceChild.prototype.collapse = function () {\r\n        this.contentElement.hide().attr('aria-hidden', 'true');\r\n        var label = this.getTextLabel({ maxLength: 50 });\r\n        this.titleElement.text(label || '');\r\n        this.collapsed = true;\r\n    };\r\n    BaseSequenceChild.prototype.expand = function () {\r\n        this.contentElement.show().attr('aria-hidden', 'false');\r\n        this.titleElement.text('');\r\n        this.collapsed = false;\r\n    };\r\n    BaseSequenceChild.prototype.toggleCollapsedState = function () {\r\n        if (this.collapsed) {\r\n            this.expand();\r\n        }\r\n        else {\r\n            this.collapse();\r\n        }\r\n    };\r\n    return BaseSequenceChild;\r\n}());\r\nexports.BaseSequenceChild = BaseSequenceChild;\r\nvar BaseInsertionControl = /** @class */ (function () {\r\n    /* Base class for controls that appear between blocks in a sequence, to allow inserting new\r\n    blocks at that point. Subclasses should render an HTML structure with a single root element\r\n    (replacing the placeholder passed to the constructor) and set it as this.element.\r\n    When the user requests to insert a block, we call onRequestInsert passing the index number\r\n    and a dict of control-specific options. */\r\n    function BaseInsertionControl(placeholder, opts) {\r\n        this.index = opts && opts.index;\r\n        this.onRequestInsert = opts && opts.onRequestInsert;\r\n    }\r\n    BaseInsertionControl.prototype.setIndex = function (newIndex) {\r\n        this.index = newIndex;\r\n    };\r\n    BaseInsertionControl.prototype[\"delete\"] = function (_a) {\r\n        var _b = _a.animate, animate = _b === void 0 ? false : _b;\r\n        if (animate) {\r\n            $(this.element).slideUp().attr('aria-hidden', 'true');\r\n        }\r\n        else {\r\n            $(this.element).hide().attr('aria-hidden', 'true');\r\n        }\r\n    };\r\n    return BaseInsertionControl;\r\n}());\r\nexports.BaseInsertionControl = BaseInsertionControl;\r\nvar BaseSequenceBlock = /** @class */ (function () {\r\n    function BaseSequenceBlock() {\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    BaseSequenceBlock.prototype._createChild = function (blockDef, placeholder, prefix, index, id, initialState, opts) {\r\n        throw new Error('not implemented');\r\n    };\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    BaseSequenceBlock.prototype._createInsertionControl = function (placeholder, opts) {\r\n        throw new Error('not implemented');\r\n    };\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    BaseSequenceBlock.prototype._getChildDataForInsertion = function (opts) {\r\n        throw new Error('not implemented');\r\n    };\r\n    BaseSequenceBlock.prototype.clear = function () {\r\n        var _this = this;\r\n        this.countInput.val(0);\r\n        this.sequenceContainer.empty();\r\n        this.children = [];\r\n        this.blockCounter = 0;\r\n        // Create initial insertion control\r\n        var placeholder = document.createElement('div');\r\n        this.sequenceContainer.append(placeholder);\r\n        this.inserters = [\r\n            this._createInsertionControl(placeholder, {\r\n                index: 0,\r\n                onRequestInsert: function (newIndex, opts) {\r\n                    _this._onRequestInsert(newIndex, opts);\r\n                },\r\n                strings: this.blockDef.meta.strings,\r\n            })\r\n        ];\r\n    };\r\n    BaseSequenceBlock.prototype._onRequestInsert = function (index, opts) {\r\n        /* handler for an 'insert new block' action */\r\n        var _a = __read(this._getChildDataForInsertion(opts), 3), blockDef = _a[0], initialState = _a[1], id = _a[2];\r\n        var newChild = this._insert(blockDef, initialState, id || null, index, { animate: true });\r\n        // focus the newly added field if we can do so without obtrusive UI behaviour\r\n        newChild.focus({ soft: true });\r\n    };\r\n    BaseSequenceBlock.prototype._insert = function (childBlockDef, initialState, id, index, opts) {\r\n        var _this = this;\r\n        var prefix = this.prefix + '-' + this.blockCounter;\r\n        var animate = opts && opts.animate;\r\n        var collapsed = opts && opts.collapsed;\r\n        this.blockCounter++;\r\n        /*\r\n        a new inserter and block will be inserted AFTER the inserter with the given index;\r\n        e.g if there are 3 blocks the children of sequenceContainer will be\r\n        [inserter 0, block 0, inserter 1, block 1, inserter 2, block 2, inserter 3]\r\n        and inserting a new block at index 1 will create a new block 1 and inserter 2 after the\r\n        current inserter 1, and increment everything after that point\r\n        */\r\n        var existingInserterElement = this.inserters[index].element;\r\n        var blockPlaceholder = document.createElement('div');\r\n        var inserterPlaceholder = document.createElement('div');\r\n        $(blockPlaceholder).insertAfter(existingInserterElement);\r\n        $(inserterPlaceholder).insertAfter(blockPlaceholder);\r\n        /* shuffle up indexes of all blocks / inserters above this index */\r\n        for (var i = index; i < this.children.length; i++) {\r\n            this.children[i].setIndex(i + 1);\r\n        }\r\n        for (var i = index + 1; i < this.inserters.length; i++) {\r\n            this.inserters[i].setIndex(i + 1);\r\n        }\r\n        var child = this._createChild(childBlockDef, blockPlaceholder, prefix, index, id, initialState, {\r\n            animate: animate,\r\n            collapsed: collapsed,\r\n            onRequestDuplicate: function (i) { _this.duplicateBlock(i, { animate: true }); },\r\n            onRequestDelete: function (i) { _this.deleteBlock(i, { animate: true }); },\r\n            onRequestMoveUp: function (i) { _this.moveBlock(i, i - 1); },\r\n            onRequestMoveDown: function (i) { _this.moveBlock(i, i + 1); },\r\n            strings: this.blockDef.meta.strings,\r\n        });\r\n        this.children.splice(index, 0, child);\r\n        var inserter = this._createInsertionControl(inserterPlaceholder, {\r\n            index: index + 1,\r\n            onRequestInsert: function (newIndex, inserterOpts) {\r\n                _this._onRequestInsert(newIndex, inserterOpts);\r\n            },\r\n            strings: this.blockDef.meta.strings,\r\n            animate: animate,\r\n        });\r\n        this.inserters.splice(index + 1, 0, inserter);\r\n        this.countInput.val(this.blockCounter);\r\n        var isFirstChild = (index === 0);\r\n        var isLastChild = (index === this.children.length - 1);\r\n        if (!isFirstChild) {\r\n            child.enableMoveUp();\r\n            if (isLastChild) {\r\n                /* previous child (which was previously the last one) can now move down */\r\n                this.children[index - 1].enableMoveDown();\r\n            }\r\n        }\r\n        if (!isLastChild) {\r\n            child.enableMoveDown();\r\n            if (isFirstChild) {\r\n                /* next child (which was previously the first one) can now move up */\r\n                this.children[index + 1].enableMoveUp();\r\n            }\r\n        }\r\n        return child;\r\n    };\r\n    BaseSequenceBlock.prototype.deleteBlock = function (index, opts) {\r\n        var animate = opts && opts.animate;\r\n        this.children[index].markDeleted({ animate: animate });\r\n        this.inserters[index][\"delete\"]({ animate: animate });\r\n        this.children.splice(index, 1);\r\n        this.inserters.splice(index, 1);\r\n        /* index numbers of children / inserters above this index now need updating to match\r\n        their array indexes */\r\n        for (var i = index; i < this.children.length; i++) {\r\n            this.children[i].setIndex(i);\r\n        }\r\n        for (var i = index; i < this.inserters.length; i++) {\r\n            this.inserters[i].setIndex(i);\r\n        }\r\n        if (index === 0 && this.children.length > 0) {\r\n            /* we have removed the first child; the new first child cannot be moved up */\r\n            this.children[0].disableMoveUp();\r\n        }\r\n        if (index === this.children.length && this.children.length > 0) {\r\n            /* we have removed the last child; the new last child cannot be moved down */\r\n            this.children[this.children.length - 1].disableMoveDown();\r\n        }\r\n    };\r\n    BaseSequenceBlock.prototype.moveBlock = function (oldIndex, newIndex) {\r\n        if (oldIndex === newIndex)\r\n            return;\r\n        var inserterToMove = this.inserters[oldIndex];\r\n        var childToMove = this.children[oldIndex];\r\n        /* move HTML elements */\r\n        if (newIndex > oldIndex) {\r\n            $(inserterToMove.element).insertAfter(this.children[newIndex].element);\r\n        }\r\n        else {\r\n            $(inserterToMove.element).insertBefore(this.inserters[newIndex].element);\r\n        }\r\n        $(childToMove.element).insertAfter(inserterToMove.element);\r\n        /* reorder items in the `inserters` and `children` arrays */\r\n        this.inserters.splice(oldIndex, 1);\r\n        this.inserters.splice(newIndex, 0, inserterToMove);\r\n        this.children.splice(oldIndex, 1);\r\n        this.children.splice(newIndex, 0, childToMove);\r\n        /* update index properties of moved items */\r\n        if (newIndex > oldIndex) {\r\n            for (var i = oldIndex; i <= newIndex; i++) {\r\n                this.inserters[i].setIndex(i);\r\n                this.children[i].setIndex(i);\r\n            }\r\n        }\r\n        else {\r\n            for (var i = newIndex; i <= oldIndex; i++) {\r\n                this.inserters[i].setIndex(i);\r\n                this.children[i].setIndex(i);\r\n            }\r\n        }\r\n        /* enable/disable up/down arrows as required */\r\n        var maxIndex = this.children.length - 1;\r\n        if (oldIndex === 0) {\r\n            childToMove.enableMoveUp();\r\n            this.children[0].disableMoveUp();\r\n        }\r\n        if (oldIndex === maxIndex) {\r\n            childToMove.enableMoveDown();\r\n            this.children[maxIndex].disableMoveDown();\r\n        }\r\n        if (newIndex === 0) {\r\n            childToMove.disableMoveUp();\r\n            this.children[1].enableMoveUp();\r\n        }\r\n        if (newIndex === maxIndex) {\r\n            childToMove.disableMoveDown();\r\n            this.children[maxIndex - 1].enableMoveDown();\r\n        }\r\n    };\r\n    BaseSequenceBlock.prototype.setState = function (values) {\r\n        var _this = this;\r\n        this.clear();\r\n        values.forEach(function (val, i) {\r\n            _this.insert(val, i);\r\n        });\r\n    };\r\n    BaseSequenceBlock.prototype.getState = function () {\r\n        return this.children.map(function (child) { return child.getState(); });\r\n    };\r\n    BaseSequenceBlock.prototype.getValue = function () {\r\n        return this.children.map(function (child) { return child.getValue(); });\r\n    };\r\n    BaseSequenceBlock.prototype.getTextLabel = function (opts) {\r\n        var e_1, _a;\r\n        /* Use as many child text labels as we can fit into maxLength */\r\n        var maxLength = opts && opts.maxLength;\r\n        var result = '';\r\n        try {\r\n            for (var _b = __values(this.children), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var child = _c.value;\r\n                var childLabel = child.getTextLabel({ maxLength: maxLength });\r\n                if (childLabel) {\r\n                    if (!result) {\r\n                        // always use the first child, truncated as necessary\r\n                        result = childLabel;\r\n                    }\r\n                    else {\r\n                        var newResult = (result + ', ' + childLabel);\r\n                        if (maxLength && newResult.length > maxLength - 1) {\r\n                            // too long, so don't add this; return the current list with an ellipsis instead\r\n                            if (!result.endsWith('…'))\r\n                                result += '…';\r\n                            return result;\r\n                        }\r\n                        result = newResult;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b[\"return\"])) _a.call(_b);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        return result;\r\n    };\r\n    BaseSequenceBlock.prototype.focus = function (opts) {\r\n        if (this.children.length) {\r\n            this.children[0].focus(opts);\r\n        }\r\n    };\r\n    return BaseSequenceBlock;\r\n}());\r\nexports.BaseSequenceBlock = BaseSequenceBlock;\r\n","\"use strict\";\r\n/* global $ */\r\nexports.__esModule = true;\r\nexports.FieldBlockDefinition = exports.FieldBlock = void 0;\r\nvar text_1 = require(\"../../../utils/text\");\r\nvar FieldBlock = /** @class */ (function () {\r\n    function FieldBlock(blockDef, placeholder, prefix, initialState, initialError) {\r\n        this.blockDef = blockDef;\r\n        this.type = blockDef.name;\r\n        var dom = $(\"\\n      <div class=\\\"\" + text_1.escapeHtml(this.blockDef.meta.classname) + \"\\\">\\n        <div class=\\\"field-content\\\">\\n          <div class=\\\"input\\\">\\n            <div data-streamfield-widget></div>\\n            <span></span>\\n          </div>\\n        </div>\\n      </div>\\n    \");\r\n        $(placeholder).replaceWith(dom);\r\n        var widgetElement = dom.find('[data-streamfield-widget]').get(0);\r\n        this.element = dom[0];\r\n        try {\r\n            this.widget = this.blockDef.widget.render(widgetElement, prefix, prefix, initialState);\r\n        }\r\n        catch (e) {\r\n            // eslint-disable-next-line no-console\r\n            console.error(e);\r\n            this.setError([\r\n                ['This widget failed to render, please check the console for details']\r\n            ]);\r\n            return;\r\n        }\r\n        this.idForLabel = this.widget.idForLabel;\r\n        if (this.blockDef.meta.helpText) {\r\n            var helpElement = document.createElement('p');\r\n            helpElement.classList.add('help');\r\n            helpElement.innerHTML = this.blockDef.meta.helpText; // unescaped, as per Django conventions\r\n            this.element.querySelector('.field-content').appendChild(helpElement);\r\n        }\r\n        if (window.comments && this.blockDef.meta.showAddCommentButton) {\r\n            var fieldCommentControlElement = document.createElement('div');\r\n            fieldCommentControlElement.classList.add('field-comment-control');\r\n            this.element.appendChild(fieldCommentControlElement);\r\n            var addCommentButtonElement = document.createElement('button');\r\n            addCommentButtonElement.type = 'button';\r\n            addCommentButtonElement.setAttribute('aria-label', blockDef.meta.strings.ADD_COMMENT);\r\n            addCommentButtonElement.setAttribute('data-comment-add', '');\r\n            addCommentButtonElement.classList.add('button');\r\n            addCommentButtonElement.classList.add('button-secondary');\r\n            addCommentButtonElement.classList.add('button-small');\r\n            addCommentButtonElement.classList.add('u-hidden');\r\n            addCommentButtonElement.innerHTML = '<svg class=\"icon icon-comment-add initial icon-default\" aria-hidden=\"true\" focusable=\"false\"><use href=\"#icon-comment-add\"></use></svg><svg class=\"icon icon-comment-add initial icon-reversed\" aria-hidden=\"true\" focusable=\"false\"><use href=\"#icon-comment-add-reversed\"></use></svg>';\r\n            fieldCommentControlElement.appendChild(addCommentButtonElement);\r\n            window.comments.initAddCommentButton(addCommentButtonElement);\r\n        }\r\n        if (initialError) {\r\n            this.setError(initialError);\r\n        }\r\n    }\r\n    FieldBlock.prototype.setState = function (state) {\r\n        if (this.widget) {\r\n            this.widget.setState(state);\r\n        }\r\n    };\r\n    FieldBlock.prototype.setError = function (errorList) {\r\n        this.element.querySelectorAll(':scope > .field-content > .error-message').forEach(function (element) { return element.remove(); });\r\n        if (errorList) {\r\n            this.element.classList.add('error');\r\n            var errorElement = document.createElement('p');\r\n            errorElement.classList.add('error-message');\r\n            errorElement.innerHTML = errorList.map(function (error) { return \"<span>\" + text_1.escapeHtml(error[0]) + \"</span>\"; }).join('');\r\n            this.element.querySelector('.field-content').appendChild(errorElement);\r\n        }\r\n        else {\r\n            this.element.classList.remove('error');\r\n        }\r\n    };\r\n    FieldBlock.prototype.getState = function () {\r\n        return this.widget.getState();\r\n    };\r\n    FieldBlock.prototype.getValue = function () {\r\n        return this.widget.getValue();\r\n    };\r\n    FieldBlock.prototype.getTextLabel = function (opts) {\r\n        if (this.widget.getTextLabel) {\r\n            return this.widget.getTextLabel(opts);\r\n        }\r\n        return null;\r\n    };\r\n    FieldBlock.prototype.focus = function (opts) {\r\n        if (this.widget) {\r\n            this.widget.focus(opts);\r\n        }\r\n    };\r\n    return FieldBlock;\r\n}());\r\nexports.FieldBlock = FieldBlock;\r\nvar FieldBlockDefinition = /** @class */ (function () {\r\n    function FieldBlockDefinition(name, widget, meta) {\r\n        this.name = name;\r\n        this.widget = widget;\r\n        this.meta = meta;\r\n    }\r\n    FieldBlockDefinition.prototype.render = function (placeholder, prefix, initialState, initialError) {\r\n        return new FieldBlock(this, placeholder, prefix, initialState, initialError);\r\n    };\r\n    return FieldBlockDefinition;\r\n}());\r\nexports.FieldBlockDefinition = FieldBlockDefinition;\r\n","\"use strict\";\r\n/* eslint-disable no-underscore-dangle */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nexports.ListBlockDefinition = exports.ListBlock = exports.ListBlockValidationError = void 0;\r\nvar BaseSequenceBlock_1 = require(\"./BaseSequenceBlock\");\r\nvar text_1 = require(\"../../../utils/text\");\r\n/* global $ */\r\nvar ListBlockValidationError = /** @class */ (function () {\r\n    function ListBlockValidationError(blockErrors) {\r\n        this.blockErrors = blockErrors;\r\n    }\r\n    return ListBlockValidationError;\r\n}());\r\nexports.ListBlockValidationError = ListBlockValidationError;\r\nvar ListChild = /** @class */ (function (_super) {\r\n    __extends(ListChild, _super);\r\n    function ListChild() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /*\r\n    wrapper for an item inside a ListBlock\r\n    */\r\n    ListChild.prototype.getState = function () {\r\n        return this.block.getState();\r\n    };\r\n    ListChild.prototype.getValue = function () {\r\n        return this.block.getValue();\r\n    };\r\n    return ListChild;\r\n}(BaseSequenceBlock_1.BaseSequenceChild));\r\nvar InsertPosition = /** @class */ (function (_super) {\r\n    __extends(InsertPosition, _super);\r\n    /*\r\n    Represents a position in the DOM where a new list item can be inserted.\r\n  \r\n    This renders a + button. Later, these could also be used to represent drop zones for drag+drop reordering.\r\n    */\r\n    function InsertPosition(placeholder, opts) {\r\n        var _this = _super.call(this, placeholder, opts) || this;\r\n        _this.onRequestInsert = opts && opts.onRequestInsert;\r\n        var animate = opts && opts.animate;\r\n        var button = $(\"\\n      <button type=\\\"button\\\" title=\\\"\" + text_1.escapeHtml(opts.strings.ADD) + \"\\\" data-streamfield-list-add\\n          class=\\\"c-sf-add-button c-sf-add-button--visible\\\">\\n        <i aria-hidden=\\\"true\\\">+</i>\\n      </button>\\n    \");\r\n        $(placeholder).replaceWith(button);\r\n        _this.element = button.get(0);\r\n        button.click(function () {\r\n            if (_this.onRequestInsert) {\r\n                _this.onRequestInsert(_this.index);\r\n            }\r\n        });\r\n        if (animate) {\r\n            button.hide().slideDown();\r\n        }\r\n        return _this;\r\n    }\r\n    return InsertPosition;\r\n}(BaseSequenceBlock_1.BaseInsertionControl));\r\nvar ListBlock = /** @class */ (function (_super) {\r\n    __extends(ListBlock, _super);\r\n    function ListBlock(blockDef, placeholder, prefix, initialState, initialError) {\r\n        var _this = this;\r\n        _this.blockDef = blockDef;\r\n        _this.type = blockDef.name;\r\n        _this.prefix = prefix;\r\n        var dom = $(\"\\n      <div class=\\\"c-sf-container \" + text_1.escapeHtml(_this.blockDef.meta.classname || '') + \"\\\">\\n        <input type=\\\"hidden\\\" name=\\\"\" + text_1.escapeHtml(prefix) + \"-count\\\" data-streamfield-list-count value=\\\"0\\\">\\n\\n        <div data-streamfield-list-container></div>\\n      </div>\\n    \");\r\n        $(placeholder).replaceWith(dom);\r\n        if (_this.blockDef.meta.helpText) {\r\n            // help text is left unescaped as per Django conventions\r\n            $(\"\\n        <span>\\n          <div class=\\\"help\\\">\\n            \" + _this.blockDef.meta.helpIcon + \"\\n            \" + _this.blockDef.meta.helpText + \"\\n          </div>\\n        </span>\\n      \").insertBefore(dom);\r\n        }\r\n        _this.children = [];\r\n        _this.inserters = [];\r\n        _this.blockCounter = 0;\r\n        _this.countInput = dom.find('[data-streamfield-list-count]');\r\n        _this.sequenceContainer = dom.find('[data-streamfield-list-container]');\r\n        _this.setState(initialState || []);\r\n        if (initialError) {\r\n            _this.setError(initialError);\r\n        }\r\n        return _this;\r\n    }\r\n    ListBlock.prototype._getChildDataForInsertion = function () {\r\n        /* Called when an 'insert new block' action is triggered: given a dict of data from the insertion control,\r\n        return the block definition and initial state to be used for the new block.\r\n        For a ListBlock, no data is passed from the insertion control, as there is a single fixed child block definition.\r\n        */\r\n        var blockDef = this.blockDef.childBlockDef;\r\n        var initialState = this.blockDef.initialChildState;\r\n        return [blockDef, initialState];\r\n    };\r\n    ListBlock.prototype._createChild = function (blockDef, placeholder, prefix, index, id, initialState, opts) {\r\n        return new ListChild(blockDef, placeholder, prefix, index, id, initialState, opts);\r\n    };\r\n    ListBlock.prototype._createInsertionControl = function (placeholder, opts) {\r\n        return new InsertPosition(placeholder, opts);\r\n    };\r\n    ListBlock.prototype.insert = function (value, index, opts) {\r\n        return this._insert(this.blockDef.childBlockDef, value, null, index, opts);\r\n    };\r\n    ListBlock.prototype.duplicateBlock = function (index, opts) {\r\n        var child = this.children[index];\r\n        var childState = child.getState();\r\n        var animate = opts && opts.animate;\r\n        this.insert(childState, index + 1, { animate: animate, collapsed: child.collapsed });\r\n        this.children[index + 1].focus({ soft: true });\r\n    };\r\n    ListBlock.prototype.setError = function (errorList) {\r\n        if (errorList.length !== 1) {\r\n            return;\r\n        }\r\n        var error = errorList[0];\r\n        // eslint-disable-next-line no-restricted-syntax\r\n        for (var blockIndex in error.blockErrors) {\r\n            if (error.blockErrors.hasOwnProperty(blockIndex)) {\r\n                this.children[blockIndex].setError(error.blockErrors[blockIndex]);\r\n            }\r\n        }\r\n    };\r\n    return ListBlock;\r\n}(BaseSequenceBlock_1.BaseSequenceBlock));\r\nexports.ListBlock = ListBlock;\r\nvar ListBlockDefinition = /** @class */ (function () {\r\n    function ListBlockDefinition(name, childBlockDef, initialChildState, meta) {\r\n        this.name = name;\r\n        this.childBlockDef = childBlockDef;\r\n        this.initialChildState = initialChildState;\r\n        this.meta = meta;\r\n    }\r\n    ListBlockDefinition.prototype.render = function (placeholder, prefix, initialState, initialError) {\r\n        return new ListBlock(this, placeholder, prefix, initialState, initialError);\r\n    };\r\n    return ListBlockDefinition;\r\n}());\r\nexports.ListBlockDefinition = ListBlockDefinition;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nexports.StaticBlockDefinition = exports.StaticBlock = void 0;\r\nvar text_1 = require(\"../../../utils/text\");\r\nvar StaticBlock = /** @class */ (function () {\r\n    function StaticBlock(blockDef, placeholder) {\r\n        this.blockDef = blockDef;\r\n        var element = document.createElement('div');\r\n        if (this.blockDef.meta.html) {\r\n            element.innerHTML = this.blockDef.meta.html;\r\n        }\r\n        else {\r\n            element.innerHTML = text_1.escapeHtml(this.blockDef.meta.text);\r\n        }\r\n        placeholder.replaceWith(element);\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function\r\n    StaticBlock.prototype.setState = function (_state) { };\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function\r\n    StaticBlock.prototype.setError = function (_errorList) { };\r\n    StaticBlock.prototype.getState = function () {\r\n        return null;\r\n    };\r\n    StaticBlock.prototype.getValue = function () {\r\n        return null;\r\n    };\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n    StaticBlock.prototype.focus = function () { };\r\n    return StaticBlock;\r\n}());\r\nexports.StaticBlock = StaticBlock;\r\nvar StaticBlockDefinition = /** @class */ (function () {\r\n    function StaticBlockDefinition(name, meta) {\r\n        this.name = name;\r\n        this.meta = meta;\r\n    }\r\n    StaticBlockDefinition.prototype.render = function (placeholder) {\r\n        return new StaticBlock(this, placeholder);\r\n    };\r\n    return StaticBlockDefinition;\r\n}());\r\nexports.StaticBlockDefinition = StaticBlockDefinition;\r\n","\"use strict\";\r\n/* eslint-disable no-underscore-dangle */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nexports.__esModule = true;\r\nexports.StreamBlockDefinition = exports.StreamBlock = exports.StreamBlockValidationError = void 0;\r\nvar uuid_1 = require(\"uuid\");\r\nvar BaseSequenceBlock_1 = require(\"./BaseSequenceBlock\");\r\nvar text_1 = require(\"../../../utils/text\");\r\n/* global $ */\r\nvar StreamBlockValidationError = /** @class */ (function () {\r\n    function StreamBlockValidationError(nonBlockErrors, blockErrors) {\r\n        this.nonBlockErrors = nonBlockErrors;\r\n        this.blockErrors = blockErrors;\r\n    }\r\n    return StreamBlockValidationError;\r\n}());\r\nexports.StreamBlockValidationError = StreamBlockValidationError;\r\nvar StreamChild = /** @class */ (function (_super) {\r\n    __extends(StreamChild, _super);\r\n    function StreamChild() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /*\r\n    wrapper for a block inside a StreamBlock, handling StreamBlock-specific metadata\r\n    such as id\r\n    */\r\n    StreamChild.prototype.getState = function () {\r\n        return {\r\n            type: this.type,\r\n            value: this.block.getState(),\r\n            id: this.id,\r\n        };\r\n    };\r\n    StreamChild.prototype.getValue = function () {\r\n        return {\r\n            type: this.type,\r\n            value: this.block.getValue(),\r\n            id: this.id,\r\n        };\r\n    };\r\n    return StreamChild;\r\n}(BaseSequenceBlock_1.BaseSequenceChild));\r\nvar StreamBlockMenu = /** @class */ (function (_super) {\r\n    __extends(StreamBlockMenu, _super);\r\n    function StreamBlockMenu(placeholder, opts) {\r\n        var _this = _super.call(this, placeholder, opts) || this;\r\n        _this.groupedChildBlockDefs = opts.groupedChildBlockDefs;\r\n        var animate = opts.animate;\r\n        var dom = $(\"\\n      <div>\\n        <button data-streamblock-menu-open type=\\\"button\\\" title=\\\"\" + text_1.escapeHtml(opts.strings.ADD) + \"\\\"\\n            class=\\\"c-sf-add-button c-sf-add-button--visible\\\">\\n          <i aria-hidden=\\\"true\\\">+</i>\\n        </button>\\n        <div data-streamblock-menu-outer>\\n          <div data-streamblock-menu-inner class=\\\"c-sf-add-panel\\\"></div>\\n        </div>\\n      </div>\\n    \");\r\n        $(placeholder).replaceWith(dom);\r\n        _this.element = dom.get(0);\r\n        _this.addButton = dom.find('[data-streamblock-menu-open]');\r\n        _this.addButton.click(function () {\r\n            _this.toggle();\r\n        });\r\n        _this.outerContainer = dom.find('[data-streamblock-menu-outer]');\r\n        _this.innerContainer = dom.find('[data-streamblock-menu-inner]');\r\n        _this.hasRenderedMenu = false;\r\n        _this.isOpen = false;\r\n        _this.canAddBlock = true;\r\n        _this.disabledBlockTypes = new Set();\r\n        _this.close({ animate: false });\r\n        if (animate) {\r\n            dom.hide().slideDown();\r\n        }\r\n        return _this;\r\n    }\r\n    StreamBlockMenu.prototype.renderMenu = function () {\r\n        var _this = this;\r\n        if (this.hasRenderedMenu)\r\n            return;\r\n        this.hasRenderedMenu = true;\r\n        this.groupedChildBlockDefs.forEach(function (_a) {\r\n            var _b = __read(_a, 2), group = _b[0], blockDefs = _b[1];\r\n            if (group) {\r\n                var heading = $('<h4 class=\"c-sf-add-panel__group-title\"></h4>').text(group);\r\n                _this.innerContainer.append(heading);\r\n            }\r\n            var grid = $('<div class=\"c-sf-add-panel__grid\"></div>');\r\n            _this.innerContainer.append(grid);\r\n            blockDefs.forEach(function (blockDef) {\r\n                var button = $(\"\\n          <button type=\\\"button\\\" class=\\\"c-sf-button action-add-block-\" + text_1.escapeHtml(blockDef.name) + \"\\\">\\n            <span class=\\\"c-sf-button__icon\\\">\\n              <i class=\\\"icon icon-\" + text_1.escapeHtml(blockDef.meta.icon) + \"\\\"></i>\\n            </span>\\n            <span class=\\\"c-sf-button__label\\\">\" + text_1.escapeHtml(blockDef.meta.label) + \"</span>\\n          </button>\\n        \");\r\n                grid.append(button);\r\n                button.click(function () {\r\n                    if (_this.onRequestInsert) {\r\n                        _this.onRequestInsert(_this.index, { type: blockDef.name });\r\n                    }\r\n                    _this.close({ animate: true });\r\n                });\r\n            });\r\n        });\r\n        // Disable buttons for any disabled block types\r\n        this.disabledBlockTypes.forEach(function (blockType) {\r\n            $(\"button.action-add-block-\" + text_1.escapeHtml(blockType), _this.innerContainer).attr('disabled', 'true');\r\n        });\r\n    };\r\n    StreamBlockMenu.prototype.setNewBlockRestrictions = function (canAddBlock, disabledBlockTypes) {\r\n        var _this = this;\r\n        this.canAddBlock = canAddBlock;\r\n        this.disabledBlockTypes = disabledBlockTypes;\r\n        // Disable/enable menu open button\r\n        if (this.canAddBlock) {\r\n            this.addButton.removeAttr('disabled');\r\n        }\r\n        else {\r\n            this.addButton.attr('disabled', 'true');\r\n        }\r\n        // Close menu if its open and we no longer can add blocks\r\n        if (!canAddBlock && this.isOpen) {\r\n            this.close({ animate: true });\r\n        }\r\n        // Disable/enable individual block type buttons\r\n        $('button', this.innerContainer).removeAttr('disabled');\r\n        disabledBlockTypes.forEach(function (blockType) {\r\n            $(\"button.action-add-block-\" + text_1.escapeHtml(blockType), _this.innerContainer).attr('disabled', 'true');\r\n        });\r\n    };\r\n    StreamBlockMenu.prototype.toggle = function () {\r\n        if (this.isOpen) {\r\n            this.close({ animate: true });\r\n        }\r\n        else {\r\n            this.open({ animate: true });\r\n        }\r\n    };\r\n    StreamBlockMenu.prototype.open = function (opts) {\r\n        if (!this.canAddBlock) {\r\n            return;\r\n        }\r\n        this.renderMenu();\r\n        if (opts && opts.animate) {\r\n            this.outerContainer.slideDown();\r\n        }\r\n        else {\r\n            this.outerContainer.show();\r\n        }\r\n        this.addButton.addClass('c-sf-add-button--close');\r\n        this.outerContainer.attr('aria-hidden', 'false');\r\n        this.isOpen = true;\r\n    };\r\n    StreamBlockMenu.prototype.close = function (opts) {\r\n        if (opts && opts.animate) {\r\n            this.outerContainer.slideUp();\r\n        }\r\n        else {\r\n            this.outerContainer.hide();\r\n        }\r\n        this.addButton.removeClass('c-sf-add-button--close');\r\n        this.outerContainer.attr('aria-hidden', 'true');\r\n        this.isOpen = false;\r\n    };\r\n    return StreamBlockMenu;\r\n}(BaseSequenceBlock_1.BaseInsertionControl));\r\nvar StreamBlock = /** @class */ (function (_super) {\r\n    __extends(StreamBlock, _super);\r\n    function StreamBlock(blockDef, placeholder, prefix, initialState, initialError) {\r\n        var _this = this;\r\n        _this.blockDef = blockDef;\r\n        _this.type = blockDef.name;\r\n        _this.prefix = prefix;\r\n        var dom = $(\"\\n      <div class=\\\"c-sf-container \" + text_1.escapeHtml(_this.blockDef.meta.classname || '') + \"\\\">\\n        <input type=\\\"hidden\\\" name=\\\"\" + text_1.escapeHtml(prefix) + \"-count\\\" data-streamfield-stream-count value=\\\"0\\\">\\n        <div data-streamfield-stream-container></div>\\n      </div>\\n    \");\r\n        $(placeholder).replaceWith(dom);\r\n        if (_this.blockDef.meta.helpText) {\r\n            // help text is left unescaped as per Django conventions\r\n            $(\"\\n        <span>\\n          <div class=\\\"help\\\">\\n            \" + _this.blockDef.meta.helpIcon + \"\\n            \" + _this.blockDef.meta.helpText + \"\\n          </div>\\n        </span>\\n      \").insertBefore(dom);\r\n        }\r\n        // StreamChild objects for the current (non-deleted) child blocks\r\n        _this.children = [];\r\n        // Insertion control objects - there are one more of these than there are children.\r\n        // The control at index n will insert a block at index n\r\n        _this.inserters = [];\r\n        // Incrementing counter used to generate block prefixes, also reflected in the\r\n        // 'count' hidden input. This count includes deleted items\r\n        _this.blockCounter = 0;\r\n        _this.countInput = dom.find('[data-streamfield-stream-count]');\r\n        // Parent element of insert control and block elements (potentially including deleted items,\r\n        // which are left behind as hidden elements with a '-deleted' input so that the\r\n        // server-side form handler knows to skip it)\r\n        _this.sequenceContainer = dom.find('[data-streamfield-stream-container]');\r\n        _this.setState(initialState || []);\r\n        _this.container = dom;\r\n        if (initialError) {\r\n            _this.setError(initialError);\r\n        }\r\n        return _this;\r\n    }\r\n    /*\r\n     * Called whenever a block is added or removed\r\n     *\r\n     * Updates the state of add / duplicate block buttons to prevent too many blocks being inserted.\r\n     */\r\n    StreamBlock.prototype.checkBlockCounts = function () {\r\n        this.canAddBlock = true;\r\n        if (typeof this.blockDef.meta.maxNum === 'number' && this.children.length >= this.blockDef.meta.maxNum) {\r\n            this.canAddBlock = false;\r\n        }\r\n        // If we can add blocks, check if there are any block types that have count limits\r\n        this.disabledBlockTypes = new Set();\r\n        if (this.canAddBlock) {\r\n            var _loop_1 = function (blockType) {\r\n                if (this_1.blockDef.meta.blockCounts.hasOwnProperty(blockType)) {\r\n                    var counts = this_1.blockDef.meta.blockCounts[blockType];\r\n                    if (typeof counts.max_num === 'number') {\r\n                        var currentBlockCount = this_1.children.filter(function (child) { return child.type === blockType; }).length;\r\n                        if (currentBlockCount >= counts.max_num) {\r\n                            this_1.disabledBlockTypes.add(blockType);\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            var this_1 = this;\r\n            // eslint-disable-next-line no-restricted-syntax\r\n            for (var blockType in this.blockDef.meta.blockCounts) {\r\n                _loop_1(blockType);\r\n            }\r\n        }\r\n        for (var i = 0; i < this.children.length; i++) {\r\n            var canDuplicate = this.canAddBlock && !this.disabledBlockTypes.has(this.children[i].type);\r\n            if (canDuplicate) {\r\n                this.children[i].enableDuplication();\r\n            }\r\n            else {\r\n                this.children[i].disableDuplication();\r\n            }\r\n        }\r\n        for (var i = 0; i < this.inserters.length; i++) {\r\n            this.inserters[i].setNewBlockRestrictions(this.canAddBlock, this.disabledBlockTypes);\r\n        }\r\n    };\r\n    StreamBlock.prototype._createChild = function (blockDef, placeholder, prefix, index, id, initialState, opts) {\r\n        return new StreamChild(blockDef, placeholder, prefix, index, id, initialState, opts);\r\n    };\r\n    StreamBlock.prototype._createInsertionControl = function (placeholder, opts) {\r\n        // eslint-disable-next-line no-param-reassign\r\n        opts.groupedChildBlockDefs = this.blockDef.groupedChildBlockDefs;\r\n        return new StreamBlockMenu(placeholder, opts);\r\n    };\r\n    StreamBlock.prototype.insert = function (_a, index, opts) {\r\n        var type = _a.type, value = _a.value, id = _a.id;\r\n        var childBlockDef = this.blockDef.childBlockDefsByName[type];\r\n        return this._insert(childBlockDef, value, id, index, opts);\r\n    };\r\n    StreamBlock.prototype._insert = function (childBlockDef, value, id, index, opts) {\r\n        var result = _super.prototype._insert.call(this, childBlockDef, value, id, index, opts);\r\n        this.checkBlockCounts();\r\n        return result;\r\n    };\r\n    StreamBlock.prototype._getChildDataForInsertion = function (_a) {\r\n        var type = _a.type;\r\n        /* Called when an 'insert new block' action is triggered: given a dict of data from the insertion control,\r\n        return the block definition and initial state to be used for the new block.\r\n        For a StreamBlock, the dict of data consists of 'type' (the chosen block type name, as a string).\r\n        */\r\n        var blockDef = this.blockDef.childBlockDefsByName[type];\r\n        var initialState = this.blockDef.initialChildStates[type];\r\n        return [blockDef, initialState, uuid_1.v4()];\r\n    };\r\n    StreamBlock.prototype.clear = function () {\r\n        _super.prototype.clear.call(this);\r\n        this.checkBlockCounts();\r\n    };\r\n    StreamBlock.prototype.duplicateBlock = function (index, opts) {\r\n        var child = this.children[index];\r\n        var childState = child.getState();\r\n        var animate = opts && opts.animate;\r\n        childState.id = null;\r\n        this.insert(childState, index + 1, { animate: animate, collapsed: child.collapsed });\r\n        // focus the newly added field if we can do so without obtrusive UI behaviour\r\n        this.children[index + 1].focus({ soft: true });\r\n        this.checkBlockCounts();\r\n    };\r\n    StreamBlock.prototype.deleteBlock = function (index, opts) {\r\n        _super.prototype.deleteBlock.call(this, index, opts);\r\n        this.checkBlockCounts();\r\n    };\r\n    StreamBlock.prototype.setState = function (values) {\r\n        _super.prototype.setState.call(this, values);\r\n        if (values.length === 0) {\r\n            /* for an empty list, begin with the menu open */\r\n            this.inserters[0].open({ animate: false });\r\n        }\r\n    };\r\n    StreamBlock.prototype.setError = function (errorList) {\r\n        if (errorList.length !== 1) {\r\n            return;\r\n        }\r\n        var error = errorList[0];\r\n        // Non block errors\r\n        var container = this.container[0];\r\n        container.querySelectorAll(':scope > .help-block .help-critical').forEach(function (element) { return element.remove(); });\r\n        if (error.nonBlockErrors.length > 0) {\r\n            // Add a help block for each error raised\r\n            error.nonBlockErrors.forEach(function (errorText) {\r\n                var errorElement = document.createElement('p');\r\n                errorElement.classList.add('help-block');\r\n                errorElement.classList.add('help-critical');\r\n                errorElement.innerText = errorText;\r\n                container.insertBefore(errorElement, container.childNodes[0]);\r\n            });\r\n        }\r\n        // Block errors\r\n        // eslint-disable-next-line no-restricted-syntax\r\n        for (var blockIndex in error.blockErrors) {\r\n            if (error.blockErrors.hasOwnProperty(blockIndex)) {\r\n                this.children[blockIndex].setError(error.blockErrors[blockIndex]);\r\n            }\r\n        }\r\n    };\r\n    return StreamBlock;\r\n}(BaseSequenceBlock_1.BaseSequenceBlock));\r\nexports.StreamBlock = StreamBlock;\r\nvar StreamBlockDefinition = /** @class */ (function () {\r\n    function StreamBlockDefinition(name, groupedChildBlockDefs, initialChildStates, meta) {\r\n        var _this = this;\r\n        this.name = name;\r\n        this.groupedChildBlockDefs = groupedChildBlockDefs;\r\n        this.initialChildStates = initialChildStates;\r\n        this.childBlockDefsByName = {};\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        this.groupedChildBlockDefs.forEach(function (_a) {\r\n            var _b = __read(_a, 2), group = _b[0], blockDefs = _b[1];\r\n            blockDefs.forEach(function (blockDef) {\r\n                _this.childBlockDefsByName[blockDef.name] = blockDef;\r\n            });\r\n        });\r\n        this.meta = meta;\r\n    }\r\n    StreamBlockDefinition.prototype.render = function (placeholder, prefix, initialState, initialError) {\r\n        return new StreamBlock(this, placeholder, prefix, initialState, initialError);\r\n    };\r\n    return StreamBlockDefinition;\r\n}());\r\nexports.StreamBlockDefinition = StreamBlockDefinition;\r\n","\"use strict\";\r\n/* global $ */\r\nvar __values = (this && this.__values) || function(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n};\r\nexports.__esModule = true;\r\nexports.StructBlockDefinition = exports.StructBlock = exports.StructBlockValidationError = void 0;\r\nvar text_1 = require(\"../../../utils/text\");\r\nvar StructBlockValidationError = /** @class */ (function () {\r\n    function StructBlockValidationError(blockErrors) {\r\n        this.blockErrors = blockErrors;\r\n    }\r\n    return StructBlockValidationError;\r\n}());\r\nexports.StructBlockValidationError = StructBlockValidationError;\r\nvar StructBlock = /** @class */ (function () {\r\n    function StructBlock(blockDef, placeholder, prefix, initialState, initialError) {\r\n        var _this = this;\r\n        var state = initialState || {};\r\n        this.blockDef = blockDef;\r\n        this.type = blockDef.name;\r\n        this.childBlocks = {};\r\n        if (blockDef.meta.formTemplate) {\r\n            var html = blockDef.meta.formTemplate.replace(/__PREFIX__/g, prefix);\r\n            var dom_1 = $(html);\r\n            $(placeholder).replaceWith(dom_1);\r\n            this.blockDef.childBlockDefs.forEach(function (childBlockDef) {\r\n                var childBlockElement = dom_1.find('[data-structblock-child=\"' + childBlockDef.name + '\"]').get(0);\r\n                var childBlock = childBlockDef.render(childBlockElement, prefix + '-' + childBlockDef.name, state[childBlockDef.name], initialError === null || initialError === void 0 ? void 0 : initialError.blockErrors[childBlockDef.name]);\r\n                _this.childBlocks[childBlockDef.name] = childBlock;\r\n            });\r\n        }\r\n        else {\r\n            var dom_2 = $(\"\\n        <div class=\\\"\" + text_1.escapeHtml(this.blockDef.meta.classname || '') + \"\\\">\\n        </div>\\n      \");\r\n            $(placeholder).replaceWith(dom_2);\r\n            if (this.blockDef.meta.helpText) {\r\n                // help text is left unescaped as per Django conventions\r\n                dom_2.append(\"\\n          <span>\\n            <div class=\\\"help\\\">\\n              \" + this.blockDef.meta.helpIcon + \"\\n              \" + this.blockDef.meta.helpText + \"\\n            </div>\\n          </span>\\n        \");\r\n            }\r\n            this.blockDef.childBlockDefs.forEach(function (childBlockDef) {\r\n                var childDom = $(\"\\n          <div class=\\\"field \" + (childBlockDef.meta.required ? 'required' : '') + \"\\\" data-contentpath=\\\"\" + childBlockDef.name + \"\\\">\\n            <label class=\\\"field__label\\\">\" + text_1.escapeHtml(childBlockDef.meta.label) + \"</label>\\n            <div data-streamfield-block></div>\\n          </div>\\n        \");\r\n                dom_2.append(childDom);\r\n                var childBlockElement = childDom.find('[data-streamfield-block]').get(0);\r\n                var labelElement = childDom.find('label').get(0);\r\n                var childBlock = childBlockDef.render(childBlockElement, prefix + '-' + childBlockDef.name, state[childBlockDef.name], initialError === null || initialError === void 0 ? void 0 : initialError.blockErrors[childBlockDef.name]);\r\n                _this.childBlocks[childBlockDef.name] = childBlock;\r\n                if (childBlock.idForLabel) {\r\n                    labelElement.setAttribute('for', childBlock.idForLabel);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    StructBlock.prototype.setState = function (state) {\r\n        // eslint-disable-next-line guard-for-in, no-restricted-syntax\r\n        for (var name_1 in state) {\r\n            this.childBlocks[name_1].setState(state[name_1]);\r\n        }\r\n    };\r\n    StructBlock.prototype.setError = function (errorList) {\r\n        if (errorList.length !== 1) {\r\n            return;\r\n        }\r\n        var error = errorList[0];\r\n        // eslint-disable-next-line no-restricted-syntax\r\n        for (var blockName in error.blockErrors) {\r\n            if (error.blockErrors.hasOwnProperty(blockName)) {\r\n                this.childBlocks[blockName].setError(error.blockErrors[blockName]);\r\n            }\r\n        }\r\n    };\r\n    StructBlock.prototype.getState = function () {\r\n        var state = {};\r\n        // eslint-disable-next-line guard-for-in, no-restricted-syntax\r\n        for (var name_2 in this.childBlocks) {\r\n            state[name_2] = this.childBlocks[name_2].getState();\r\n        }\r\n        return state;\r\n    };\r\n    StructBlock.prototype.getValue = function () {\r\n        var value = {};\r\n        // eslint-disable-next-line guard-for-in, no-restricted-syntax\r\n        for (var name_3 in this.childBlocks) {\r\n            value[name_3] = this.childBlocks[name_3].getValue();\r\n        }\r\n        return value;\r\n    };\r\n    StructBlock.prototype.getTextLabel = function (opts) {\r\n        var e_1, _a;\r\n        try {\r\n            /* Use the text label of the first child block to return one */\r\n            for (var _b = __values(this.blockDef.childBlockDefs), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var childDef = _c.value;\r\n                var child = this.childBlocks[childDef.name];\r\n                if (child.getTextLabel) {\r\n                    var val = child.getTextLabel(opts);\r\n                    if (val)\r\n                        return val;\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b[\"return\"])) _a.call(_b);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        // no usable label found\r\n        return null;\r\n    };\r\n    StructBlock.prototype.focus = function (opts) {\r\n        if (this.blockDef.childBlockDefs.length) {\r\n            var firstChildName = this.blockDef.childBlockDefs[0].name;\r\n            this.childBlocks[firstChildName].focus(opts);\r\n        }\r\n    };\r\n    return StructBlock;\r\n}());\r\nexports.StructBlock = StructBlock;\r\nvar StructBlockDefinition = /** @class */ (function () {\r\n    function StructBlockDefinition(name, childBlockDefs, meta) {\r\n        this.name = name;\r\n        this.childBlockDefs = childBlockDefs;\r\n        this.meta = meta;\r\n    }\r\n    StructBlockDefinition.prototype.render = function (placeholder, prefix, initialState, initialError) {\r\n        return new StructBlock(this, placeholder, prefix, initialState, initialError);\r\n    };\r\n    return StructBlockDefinition;\r\n}());\r\nexports.StructBlockDefinition = StructBlockDefinition;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar FieldBlock_1 = require(\"../../../components/StreamField/blocks/FieldBlock\");\r\nvar StaticBlock_1 = require(\"../../../components/StreamField/blocks/StaticBlock\");\r\nvar StructBlock_1 = require(\"../../../components/StreamField/blocks/StructBlock\");\r\nvar ListBlock_1 = require(\"../../../components/StreamField/blocks/ListBlock\");\r\nvar StreamBlock_1 = require(\"../../../components/StreamField/blocks/StreamBlock\");\r\nfunction initBlockWidget(id) {\r\n    /*\r\n    Initialises the top-level element of a BlockWidget\r\n    (i.e. the form widget for a StreamField).\r\n    Receives the ID of a DOM element with the attributes:\r\n      data-block: JSON-encoded block definition to be passed to telepath.unpack\r\n        to obtain a Javascript representation of the block\r\n        (i.e. an instance of one of the Block classes below)\r\n      data-value: JSON-encoded value for this block\r\n    */\r\n    var body = document.getElementById(id);\r\n    // unpack the block definition and value\r\n    var blockDefData = JSON.parse(body.dataset.block);\r\n    var blockDef = window.telepath.unpack(blockDefData);\r\n    var blockValue = JSON.parse(body.dataset.value);\r\n    var blockErrors = window.telepath.unpack(JSON.parse(body.dataset.errors));\r\n    // replace the 'body' element with the populated HTML structure for the block\r\n    blockDef.render(body, id, blockValue, blockErrors);\r\n}\r\nwindow.initBlockWidget = initBlockWidget;\r\nwindow.telepath.register('wagtail.blocks.FieldBlock', FieldBlock_1.FieldBlockDefinition);\r\nwindow.telepath.register('wagtail.blocks.StaticBlock', StaticBlock_1.StaticBlockDefinition);\r\nwindow.telepath.register('wagtail.blocks.StructBlock', StructBlock_1.StructBlockDefinition);\r\nwindow.telepath.register('wagtail.blocks.StructBlockValidationError', StructBlock_1.StructBlockValidationError);\r\nwindow.telepath.register('wagtail.blocks.ListBlock', ListBlock_1.ListBlockDefinition);\r\nwindow.telepath.register('wagtail.blocks.ListBlockValidationError', ListBlock_1.ListBlockValidationError);\r\nwindow.telepath.register('wagtail.blocks.StreamBlock', StreamBlock_1.StreamBlockDefinition);\r\nwindow.telepath.register('wagtail.blocks.StreamBlockValidationError', StreamBlock_1.StreamBlockValidationError);\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nexports.escapeHtml = void 0;\r\n// https://stackoverflow.com/questions/6234773/can-i-escape-html-special-chars-in-javascript\r\nfunction escapeHtml(unsafe) {\r\n    return unsafe\r\n        .replace(/&/g, '&amp;')\r\n        .replace(/</g, '&lt;')\r\n        .replace(/>/g, '&gt;')\r\n        .replace(/\"/g, '&quot;')\r\n        .replace(/'/g, '&#039;');\r\n}\r\nexports.escapeHtml = escapeHtml;\r\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n// It's empty as some runtime module handles the default behavior\n__webpack_require__.x = function() {}\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.j = 849;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t849: 0\n};\n\nvar deferredModules = [\n\t[76819,920],\n\t[90971,920]\n];\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\nvar checkDeferredModules = function() {};\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tvar executeModules = data[3];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n\t// add entry modules from loaded chunk to deferred list\n\tif(executeModules) deferredModules.push.apply(deferredModules, executeModules);\n\n\t// run deferred modules when all chunks ready\n\treturn checkDeferredModules();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwagtail\"] = self[\"webpackChunkwagtail\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n\nfunction checkDeferredModulesImpl() {\n\tvar result;\n\tfor(var i = 0; i < deferredModules.length; i++) {\n\t\tvar deferredModule = deferredModules[i];\n\t\tvar fulfilled = true;\n\t\tfor(var j = 1; j < deferredModule.length; j++) {\n\t\t\tvar depId = deferredModule[j];\n\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferredModules.splice(i--, 1);\n\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n\t\t}\n\t}\n\tif(deferredModules.length === 0) {\n\t\t__webpack_require__.x();\n\t\t__webpack_require__.x = function() {};\n\t}\n\treturn result;\n}\nvar startup = __webpack_require__.x;\n__webpack_require__.x = function() {\n\t// reset startup function so it can be called again when more startup code is added\n\t__webpack_require__.x = startup || (function() {});\n\treturn (checkDeferredModules = checkDeferredModulesImpl)();\n};","// run startup\nreturn __webpack_require__.x();\n"],"sourceRoot":""}