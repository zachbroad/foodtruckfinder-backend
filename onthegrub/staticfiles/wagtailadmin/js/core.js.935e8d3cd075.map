{"version":3,"sources":["webpack://wagtail/./client/src/entrypoints/admin/core.js","webpack://wagtail/external \"jQuery\"","webpack://wagtail/webpack/bootstrap","webpack://wagtail/webpack/runtime/compat get default export","webpack://wagtail/webpack/runtime/define property getters","webpack://wagtail/webpack/runtime/global","webpack://wagtail/webpack/runtime/harmony module decorator","webpack://wagtail/webpack/runtime/hasOwnProperty shorthand","webpack://wagtail/webpack/runtime/make namespace object","webpack://wagtail/webpack/runtime/runtimeId","webpack://wagtail/webpack/runtime/jsonp chunk loading","webpack://wagtail/webpack/startup"],"names":["__values","this","o","s","Symbol","iterator","m","i","call","length","next","value","done","TypeError","__importDefault","mod","__esModule","exports","jquery_1","window","addMessage","status","text","addClass","empty","append","addMsgTimeout","setTimeout","clearTimeout","escapeHtml","map","'","replace","char","initTagField","id","autocompleteUrl","options","finalOptions","Object","assign","autocomplete","source","preprocessTag","val","indexOf","tagit","enableDirtyFormCheck","formSelector","$form","confirmationMessage","alwaysDirty","commentApp","callback","initialData","formSubmitted","updateCallback","formDirty","commentsDirty","on","isDirty","isCommentsDirty","updateIsCommentsDirtyTimeout","selectors","selectIsDirty","store","getState","subscribe","newIsCommentsDirty","updateIsDirtyTimeout","updateIsDirty","formData","FormData","keys","Array","from","filter","key","startsWith","size","some","newValue","getAll","oldValue","get","isArray","index","isFormDirty","initialFormData","Map","forEach","set","updateDirtyCheck","trigger","validInputNodeInList","nodeList","e_1","_a","nodeList_1","nodeList_1_1","node","nodeType","ELEMENT_NODE","includes","tagName","e_1_1","error","MutationObserver","mutationList","e_2","mutationList_1","mutationList_1_1","mutation","addedNodes","removedNodes","e_2_1","observe","childList","attributes","subtree","addEventListener","event","returnValue","document","toggleClass","hasClass","removeClass","find","fitNav","css","height","$logoContainer","lastMouseX","lastDir","dirChangeCount","disableWag","dir","mouseX","pageX","initLogo","closest","showTab","tabButtonElem","tab","tabNavElem","dataset","currentTab","dispatchEvent","CustomEvent","detail","location","hash","cleanedHash","querySelector","e","preventDefault","history","replaceState","attr","each","$dropdown","stopPropagation","e2","relTarg","relatedTarget","toElement","parents","is","off","headerSearch","searchCurrentIndex_1","searchNextIndex_1","$input_1","termInput","$inputContainer_1","parent","data","search_1","workingClasses","newQuery","getURLParam_1","trim","index_1","ajax","url","q","success","targetOutput","html","slideDown","complete","wagtail","ui","initDropDowns","name","results","RegExp","exec","search","autosize","update","$self","$replacementElem","dataName","cancelSpinner","prop","removeData","form","checkValidity","noValidate","timeout","reEnableAfter","LISTING_ACTIVE_CLASS","ICON_DOWN","ICON_UP","IS_OPEN","clickEvent","TOGGLE_SELECTOR","ARIA","DropDownController","dropDowns","closeAllExcept","dropDown","item","state","isOpen","closeDropDown","add","push","getByIndex","getOpenDropDown","needle","DropDown","el","registry","console","$parent","clickOutsideDropDown","bind","openDropDown","handleClick","handleKeyEvent","initDropDown","handleKeyPress","which","open_1","qsa","element","selector","slice","querySelectorAll","prototype","toggle","classList","setAttribute","remove","removeEventListener","relTarget","ready","inputElement","buttonElement","selectedButtonElement","module","jQuery","__webpack_module_cache__","__webpack_require__","moduleId","loaded","__webpack_modules__","x","n","getter","d","a","definition","defineProperty","enumerable","g","globalThis","Function","hmd","create","children","Error","obj","hasOwnProperty","r","toStringTag","j","installedChunks","321","deferredModules","checkDeferredModules","webpackJsonpCallback","parentChunkLoadingFunction","chunkId","chunkIds","moreModules","runtime","executeModules","resolves","shift","apply","chunkLoadingGlobal","self","checkDeferredModulesImpl","result","deferredModule","fulfilled","depId","splice","startup"],"mappings":"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","file":"wagtail\\admin\\static\\wagtailadmin\\js\\core.js","sourcesContent":["\"use strict\";\r\nvar __values = (this && this.__values) || function(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nexports.__esModule = true;\r\nvar jquery_1 = __importDefault(require(\"jquery\"));\r\n/* generic function for adding a message to message area through JS alone */\r\nfunction addMessage(status, text) {\r\n    jquery_1[\"default\"]('.messages').addClass('new').empty()\r\n        .append('<ul><li class=\"' + status + '\">' + text + '</li></ul>');\r\n    var addMsgTimeout = setTimeout(function () {\r\n        jquery_1[\"default\"]('.messages').addClass('appear');\r\n        clearTimeout(addMsgTimeout);\r\n    }, 100);\r\n}\r\nwindow.addMessage = addMessage;\r\nfunction escapeHtml(text) {\r\n    var map = {\r\n        '&': '&amp;',\r\n        '<': '&lt;',\r\n        '>': '&gt;',\r\n        '\"': '&quot;',\r\n        '\\'': '&#039;'\r\n    };\r\n    return text.replace(/[&<>\"']/g, function (char) { return map[char]; });\r\n}\r\nwindow.escapeHtml = escapeHtml;\r\nfunction initTagField(id, autocompleteUrl, options) {\r\n    var finalOptions = Object.assign({\r\n        autocomplete: { source: autocompleteUrl },\r\n        preprocessTag: function (val) {\r\n            // Double quote a tag if it contains a space\r\n            // and if it isn't already quoted.\r\n            if (val && val[0] !== '\"' && val.indexOf(' ') > -1) {\r\n                return '\"' + val + '\"';\r\n            }\r\n            return val;\r\n        },\r\n    }, options);\r\n    jquery_1[\"default\"]('#' + id).tagit(finalOptions);\r\n}\r\nwindow.initTagField = initTagField;\r\n/*\r\n * Enables a \"dirty form check\", prompting the user if they are navigating away\r\n * from a page with unsaved changes, as well as optionally controlling other\r\n * behaviour via a callback\r\n *\r\n * It takes the following parameters:\r\n *\r\n *  - formSelector - A CSS selector to select the form to apply this check to.\r\n *\r\n *  - options - An object for passing in options. Possible options are:\r\n *  - confirmationMessage - The message to display in the prompt.\r\n *  - alwaysDirty - When set to true the form will always be considered dirty,\r\n *    prompting the user even when nothing has been changed.\r\n *  - commentApp - The CommentApp used by the commenting system, if the dirty check\r\n *    should include comments\r\n *  - callback - A function to be run when the dirty status of the form, or the comments\r\n *    system (if using) changes, taking formDirty, commentsDirty as arguments\r\n*/\r\nfunction enableDirtyFormCheck(formSelector, options) {\r\n    var $form = jquery_1[\"default\"](formSelector);\r\n    var confirmationMessage = options.confirmationMessage || ' ';\r\n    var alwaysDirty = options.alwaysDirty || false;\r\n    var commentApp = options.commentApp || null;\r\n    var callback = options.callback || null;\r\n    var initialData = null;\r\n    var formSubmitted = false;\r\n    var updateCallback = function (formDirty, commentsDirty) {\r\n        if (callback) {\r\n            callback(formDirty, commentsDirty);\r\n        }\r\n    };\r\n    $form.on('submit', function () {\r\n        formSubmitted = true;\r\n    });\r\n    var isDirty = alwaysDirty;\r\n    var isCommentsDirty = false;\r\n    var updateIsCommentsDirtyTimeout = -1;\r\n    if (commentApp) {\r\n        isCommentsDirty = commentApp.selectors.selectIsDirty(commentApp.store.getState());\r\n        commentApp.store.subscribe(function () {\r\n            // Update on a timeout to match the timings for responding to page form changes\r\n            clearTimeout(updateIsCommentsDirtyTimeout);\r\n            updateIsCommentsDirtyTimeout = setTimeout(function () {\r\n                var newIsCommentsDirty = commentApp.selectors.selectIsDirty(commentApp.store.getState());\r\n                if (newIsCommentsDirty !== isCommentsDirty) {\r\n                    isCommentsDirty = newIsCommentsDirty;\r\n                    updateCallback(isDirty, isCommentsDirty);\r\n                }\r\n            }, isCommentsDirty ? 3000 : 300);\r\n        });\r\n    }\r\n    updateCallback(isDirty, isCommentsDirty);\r\n    var updateIsDirtyTimeout = -1;\r\n    var isFormDirty = function () {\r\n        if (alwaysDirty) {\r\n            return true;\r\n        }\r\n        else if (!initialData) {\r\n            return false;\r\n        }\r\n        var formData = new FormData($form[0]);\r\n        var keys = Array.from(formData.keys()).filter(function (key) { return !key.startsWith('comments-'); });\r\n        if (keys.length !== initialData.size) {\r\n            return true;\r\n        }\r\n        return keys.some(function (key) {\r\n            var newValue = formData.getAll(key);\r\n            var oldValue = initialData.get(key);\r\n            if (newValue === oldValue) {\r\n                return false;\r\n            }\r\n            else if (Array.isArray(newValue) && Array.isArray(oldValue)) {\r\n                return newValue.length !== oldValue.length || newValue.some(function (value, index) { return value !== oldValue[index]; });\r\n            }\r\n            return false;\r\n        });\r\n    };\r\n    var updateIsDirty = function () {\r\n        var previousIsDirty = isDirty;\r\n        isDirty = isFormDirty();\r\n        if (previousIsDirty !== isDirty) {\r\n            updateCallback(isDirty, isCommentsDirty);\r\n        }\r\n    };\r\n    // Delay snapshotting the form’s data to avoid race conditions with form widgets that might process the values.\r\n    // User interaction with the form within that delay also won’t trigger the confirmation message.\r\n    if (!alwaysDirty) {\r\n        setTimeout(function () {\r\n            var initialFormData = new FormData($form[0]);\r\n            initialData = new Map();\r\n            Array.from(initialFormData.keys())\r\n                .filter(function (key) { return !key.startsWith('comments-'); })\r\n                .forEach(function (key) { return initialData.set(key, initialFormData.getAll(key)); });\r\n            var updateDirtyCheck = function () {\r\n                clearTimeout(updateIsDirtyTimeout);\r\n                // If the form is dirty, it is relatively unlikely to become clean again, so\r\n                // run the dirty check on a relatively long timer that we reset on any form update\r\n                // otherwise, use a short timer both for nicer UX and to ensure widgets\r\n                // like Draftail have time to serialize their data\r\n                updateIsDirtyTimeout = setTimeout(updateIsDirty, isDirty ? 3000 : 300);\r\n            };\r\n            $form.on('change keyup', updateDirtyCheck).trigger('change');\r\n            var validInputNodeInList = function (nodeList) {\r\n                var e_1, _a;\r\n                try {\r\n                    for (var nodeList_1 = __values(nodeList), nodeList_1_1 = nodeList_1.next(); !nodeList_1_1.done; nodeList_1_1 = nodeList_1.next()) {\r\n                        var node = nodeList_1_1.value;\r\n                        if (node.nodeType === node.ELEMENT_NODE && ['INPUT', 'TEXTAREA', 'SELECT'].includes(node.tagName)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n                finally {\r\n                    try {\r\n                        if (nodeList_1_1 && !nodeList_1_1.done && (_a = nodeList_1[\"return\"])) _a.call(nodeList_1);\r\n                    }\r\n                    finally { if (e_1) throw e_1.error; }\r\n                }\r\n                return false;\r\n            };\r\n            var observer = new MutationObserver(function (mutationList) {\r\n                var e_2, _a;\r\n                try {\r\n                    for (var mutationList_1 = __values(mutationList), mutationList_1_1 = mutationList_1.next(); !mutationList_1_1.done; mutationList_1_1 = mutationList_1.next()) {\r\n                        var mutation = mutationList_1_1.value;\r\n                        if (validInputNodeInList(mutation.addedNodes) || validInputNodeInList(mutation.removedNodes)) {\r\n                            updateDirtyCheck();\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n                finally {\r\n                    try {\r\n                        if (mutationList_1_1 && !mutationList_1_1.done && (_a = mutationList_1[\"return\"])) _a.call(mutationList_1);\r\n                    }\r\n                    finally { if (e_2) throw e_2.error; }\r\n                }\r\n            });\r\n            observer.observe($form[0], {\r\n                childList: true,\r\n                attributes: false,\r\n                subtree: true\r\n            });\r\n        }, 1000 * 10);\r\n    }\r\n    // eslint-disable-next-line consistent-return\r\n    window.addEventListener('beforeunload', function (event) {\r\n        clearTimeout(updateIsDirtyTimeout);\r\n        updateIsDirty();\r\n        var displayConfirmation = (!formSubmitted && (isDirty || isCommentsDirty));\r\n        if (displayConfirmation) {\r\n            // eslint-disable-next-line no-param-reassign\r\n            event.returnValue = confirmationMessage;\r\n            return confirmationMessage;\r\n        }\r\n    });\r\n}\r\nwindow.enableDirtyFormCheck = enableDirtyFormCheck;\r\njquery_1[\"default\"](function () {\r\n    // Add class to the body from which transitions may be hung so they don't appear to transition as the page loads\r\n    jquery_1[\"default\"]('body').addClass('ready');\r\n    // Enable toggle to open/close nav\r\n    jquery_1[\"default\"](document).on('click', '#nav-toggle', function () {\r\n        jquery_1[\"default\"]('body').toggleClass('nav-open');\r\n        if (!jquery_1[\"default\"]('body').hasClass('nav-open')) {\r\n            jquery_1[\"default\"]('body').addClass('nav-closed');\r\n        }\r\n        else {\r\n            jquery_1[\"default\"]('body').removeClass('nav-closed');\r\n        }\r\n    });\r\n    // Enable toggle to open/close user settings\r\n    // eslint-disable-next-line func-names\r\n    jquery_1[\"default\"](document).on('click', '#account-settings', function () {\r\n        jquery_1[\"default\"]('.nav-main').toggleClass('nav-main--open-footer');\r\n        jquery_1[\"default\"](this).find('em').toggleClass('icon-arrow-down-after icon-arrow-up-after');\r\n    });\r\n    // Resize nav to fit height of window. This is an unimportant bell/whistle to make it look nice\r\n    // eslint-disable-next-line func-names\r\n    var fitNav = function () {\r\n        jquery_1[\"default\"]('.nav-wrapper').css('min-height', jquery_1[\"default\"](window).height());\r\n    };\r\n    fitNav();\r\n    jquery_1[\"default\"](window).on('resize', function () {\r\n        fitNav();\r\n    });\r\n    // Logo interactivity\r\n    function initLogo() {\r\n        var sensitivity = 8; // the amount of times the user must stroke the wagtail to trigger the animation\r\n        var $logoContainer = jquery_1[\"default\"]('[data-animated-logo-container]');\r\n        var lastMouseX = 0;\r\n        var lastDir = '';\r\n        var dirChangeCount = 0;\r\n        function enableWag() {\r\n            $logoContainer.removeClass('logo-serious').addClass('logo-playful');\r\n        }\r\n        function disableWag() {\r\n            $logoContainer.removeClass('logo-playful').addClass('logo-serious');\r\n        }\r\n        $logoContainer.on('mousemove', function (event) {\r\n            var mouseX = event.pageX;\r\n            var dir;\r\n            if (mouseX > lastMouseX) {\r\n                dir = 'r';\r\n            }\r\n            else if (mouseX < lastMouseX) {\r\n                dir = 'l';\r\n            }\r\n            if (dir !== lastDir && lastDir !== '') {\r\n                dirChangeCount += 1;\r\n            }\r\n            if (dirChangeCount > sensitivity) {\r\n                enableWag();\r\n            }\r\n            lastMouseX = mouseX;\r\n            lastDir = dir;\r\n        });\r\n        $logoContainer.on('mouseleave', function () {\r\n            dirChangeCount = 0;\r\n            disableWag();\r\n        });\r\n        disableWag();\r\n    }\r\n    initLogo();\r\n    // Enable nice focus effects on all fields. This enables help text on hover.\r\n    // eslint-disable-next-line func-names\r\n    jquery_1[\"default\"](document).on('focus mouseover', 'input,textarea,select', function () {\r\n        jquery_1[\"default\"](this).closest('.field').addClass('focused');\r\n        jquery_1[\"default\"](this).closest('fieldset').addClass('focused');\r\n        jquery_1[\"default\"](this).closest('li').addClass('focused');\r\n    });\r\n    // eslint-disable-next-line func-names\r\n    jquery_1[\"default\"](document).on('blur mouseout', 'input,textarea,select', function () {\r\n        jquery_1[\"default\"](this).closest('.field').removeClass('focused');\r\n        jquery_1[\"default\"](this).closest('fieldset').removeClass('focused');\r\n        jquery_1[\"default\"](this).closest('li').removeClass('focused');\r\n    });\r\n    /* tabs */\r\n    var showTab = function (tabButtonElem) {\r\n        jquery_1[\"default\"](tabButtonElem).tab('show');\r\n        // Update data-current-tab attribute on the [data-tab-nav] element\r\n        var tabNavElem = tabButtonElem.closest('[data-tab-nav]');\r\n        tabNavElem.dataset.currentTab = tabButtonElem.dataset.tab;\r\n        // Trigger switch event\r\n        tabNavElem.dispatchEvent(new CustomEvent('switch', { detail: { tab: tabButtonElem.dataset.tab } }));\r\n    };\r\n    if (window.location.hash) {\r\n        var cleanedHash = window.location.hash.replace(/[^\\w\\-#]/g, '');\r\n        showTab(document.querySelector('a[href=\"' + cleanedHash + '\"]'));\r\n    }\r\n    // eslint-disable-next-line func-names\r\n    jquery_1[\"default\"](document).on('click', '[data-tab-nav] a', function (e) {\r\n        e.preventDefault();\r\n        showTab(this);\r\n        window.history.replaceState(null, null, jquery_1[\"default\"](this).attr('href'));\r\n    });\r\n    // eslint-disable-next-line func-names\r\n    jquery_1[\"default\"](document).on('click', '.tab-toggle', function (e) {\r\n        e.preventDefault();\r\n        jquery_1[\"default\"]('[data-tab-nav] a[href=\"' + jquery_1[\"default\"](this).attr('href') + '\"]').trigger('click');\r\n    });\r\n    // eslint-disable-next-line func-names\r\n    jquery_1[\"default\"]('.dropdown').each(function () {\r\n        var $dropdown = jquery_1[\"default\"](this);\r\n        jquery_1[\"default\"]('.dropdown-toggle', $dropdown).on('click', function (e) {\r\n            e.stopPropagation();\r\n            $dropdown.toggleClass('open');\r\n            if ($dropdown.hasClass('open')) {\r\n                // If a dropdown is opened, add an event listener for document clicks to close it\r\n                jquery_1[\"default\"](document).on('click.dropdown.cancel', function (e2) {\r\n                    var relTarg = e2.relatedTarget || e2.toElement;\r\n                    // Only close dropdown if the click target wasn't a child of this dropdown\r\n                    if (!jquery_1[\"default\"](relTarg).parents().is($dropdown)) {\r\n                        $dropdown.removeClass('open');\r\n                        jquery_1[\"default\"](document).off('click.dropdown.cancel');\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                jquery_1[\"default\"](document).off('click.dropdown.cancel');\r\n            }\r\n        });\r\n    });\r\n    /* Dropzones */\r\n    // eslint-disable-next-line func-names\r\n    jquery_1[\"default\"]('.drop-zone').on('dragover', function () {\r\n        jquery_1[\"default\"](this).addClass('hovered');\r\n        // eslint-disable-next-line func-names\r\n    }).on('dragleave dragend drop', function () {\r\n        jquery_1[\"default\"](this).removeClass('hovered');\r\n    });\r\n    /* Header search behaviour */\r\n    if (window.headerSearch) {\r\n        var searchCurrentIndex_1 = 0;\r\n        var searchNextIndex_1 = 0;\r\n        var $input_1 = jquery_1[\"default\"](window.headerSearch.termInput);\r\n        var $inputContainer_1 = $input_1.parent();\r\n        $input_1.on('keyup cut paste change', function () {\r\n            clearTimeout($input_1.data('timer'));\r\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\r\n            $input_1.data('timer', setTimeout(search_1, 200));\r\n        });\r\n        // auto focus on search box\r\n        $input_1.trigger('focus');\r\n        // eslint-disable-next-line func-names\r\n        var search_1 = function () {\r\n            var workingClasses = 'icon-spinner';\r\n            var newQuery = $input_1.val();\r\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\r\n            var currentQuery = getURLParam_1('q');\r\n            // only do the query if it has changed for trimmed queries\r\n            // eg. \" \" === \"\" and \"firstword \" ==== \"firstword\"\r\n            if (currentQuery.trim() !== newQuery.trim()) {\r\n                $inputContainer_1.addClass(workingClasses);\r\n                searchNextIndex_1++;\r\n                var index_1 = searchNextIndex_1;\r\n                jquery_1[\"default\"].ajax({\r\n                    url: window.headerSearch.url,\r\n                    // eslint-disable-next-line id-length\r\n                    data: { q: newQuery },\r\n                    success: function (data) {\r\n                        if (index_1 > searchCurrentIndex_1) {\r\n                            searchCurrentIndex_1 = index_1;\r\n                            jquery_1[\"default\"](window.headerSearch.targetOutput).html(data).slideDown(800);\r\n                            window.history.replaceState(null, null, '?q=' + newQuery);\r\n                        }\r\n                    },\r\n                    complete: function () {\r\n                        window.wagtail.ui.initDropDowns();\r\n                        $inputContainer_1.removeClass(workingClasses);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        // eslint-disable-next-line func-names\r\n        var getURLParam_1 = function (name) {\r\n            var results = new RegExp('[\\\\?&]' + name + '=([^]*)').exec(window.location.search);\r\n            if (results) {\r\n                return results[1];\r\n            }\r\n            return '';\r\n        };\r\n    }\r\n    /* Functions that need to run/rerun when active tabs are changed */\r\n    jquery_1[\"default\"](document).on('shown.bs.tab', function () {\r\n        // Resize autosize textareas\r\n        // eslint-disable-next-line func-names\r\n        jquery_1[\"default\"]('textarea[data-autosize-on]').each(function () {\r\n            // eslint-disable-next-line no-undef\r\n            autosize.update(jquery_1[\"default\"](this).get());\r\n        });\r\n    });\r\n    /* Debounce submission of long-running forms and add spinner to give sense of activity */\r\n    // eslint-disable-next-line func-names\r\n    jquery_1[\"default\"](document).on('click', 'button.button-longrunning', function () {\r\n        var $self = jquery_1[\"default\"](this);\r\n        var $replacementElem = jquery_1[\"default\"]('em', $self);\r\n        var reEnableAfter = 30;\r\n        var dataName = 'disabledtimeout';\r\n        // eslint-disable-next-line func-names\r\n        window.cancelSpinner = function () {\r\n            $self.prop('disabled', '').removeData(dataName).removeClass('button-longrunning-active');\r\n            if ($self.data('clicked-text')) {\r\n                $replacementElem.text($self.data('original-text'));\r\n            }\r\n        };\r\n        // If client-side validation is active on this form, and is going to block submission of the\r\n        // form, don't activate the spinner\r\n        var form = $self.closest('form').get(0);\r\n        if (form && form.checkValidity && !form.noValidate && (!form.checkValidity())) {\r\n            return;\r\n        }\r\n        // Disabling a button prevents it submitting the form, so disabling\r\n        // must occur on a brief timeout only after this function returns.\r\n        var timeout = setTimeout(function () {\r\n            if (!$self.data(dataName)) {\r\n                // Button re-enables after a timeout to prevent button becoming\r\n                // permanently un-usable\r\n                $self.data(dataName, setTimeout(function () {\r\n                    clearTimeout($self.data(dataName));\r\n                    // eslint-disable-next-line no-undef\r\n                    cancelSpinner();\r\n                }, reEnableAfter * 1000));\r\n                if ($self.data('clicked-text') && $replacementElem.length) {\r\n                    // Save current button text\r\n                    $self.data('original-text', $replacementElem.text());\r\n                    $replacementElem.text($self.data('clicked-text'));\r\n                }\r\n                // Disabling button must be done last: disabled buttons can't be\r\n                // modified in the normal way, it would seem.\r\n                $self.addClass('button-longrunning-active').prop('disabled', 'true');\r\n            }\r\n            clearTimeout(timeout);\r\n        }, 10);\r\n    });\r\n});\r\n// =============================================================================\r\n// Wagtail global module, mainly useful for debugging.\r\n// =============================================================================\r\n// =============================================================================\r\n// Inline dropdown module\r\n// =============================================================================\r\nvar wagtail = window.wagtail || {};\r\nif (!wagtail.ui) {\r\n    wagtail.ui = {};\r\n}\r\n// Constants\r\nvar DROPDOWN_SELECTOR = '[data-dropdown]';\r\nvar LISTING_TITLE_SELECTOR = '[data-listing-page-title]';\r\nvar LISTING_ACTIVE_CLASS = 'listing__item--active';\r\nvar ICON_DOWN = 'icon-arrow-down';\r\nvar ICON_UP = 'icon-arrow-up';\r\nvar IS_OPEN = 'is-open';\r\nvar clickEvent = 'click';\r\nvar TOGGLE_SELECTOR = '[data-dropdown-toggle]';\r\nvar ARIA = 'aria-hidden';\r\nvar keys = {\r\n    ESC: 27,\r\n    ENTER: 13,\r\n    SPACE: 32\r\n};\r\n/**\r\n * Singleton controller and registry for DropDown components.\r\n *\r\n * Mostly used to maintain open/closed state of components and easily\r\n * toggle them when the focus changes.\r\n */\r\nvar DropDownController = {\r\n    dropDowns: [],\r\n    closeAllExcept: function (dropDown) {\r\n        var index = this.dropDowns.indexOf(dropDown);\r\n        this.dropDowns.forEach(function (item, i) {\r\n            if (i !== index && item.state.isOpen) {\r\n                item.closeDropDown();\r\n            }\r\n        });\r\n    },\r\n    add: function (dropDown) {\r\n        this.dropDowns.push(dropDown);\r\n    },\r\n    get: function () {\r\n        return this.dropDowns;\r\n    },\r\n    getByIndex: function (index) {\r\n        return this.dropDowns[index];\r\n    },\r\n    getOpenDropDown: function () {\r\n        var needle = null;\r\n        this.dropDowns.forEach(function (item) {\r\n            if (item.state.isOpen) {\r\n                needle = item;\r\n            }\r\n        });\r\n        return needle;\r\n    }\r\n};\r\n/**\r\n * DropDown component\r\n *\r\n * Template: _button_with_dropdown.html\r\n *\r\n * Can contain a list of links\r\n * Controllable via a toggle class or the keyboard.\r\n */\r\nfunction DropDown(el, registry) {\r\n    if (!el || !registry) {\r\n        if ('error' in console) {\r\n            // eslint-disable-next-line max-len, no-console\r\n            console.error('A dropdown was created without an element or the DropDownController.\\nMake sure to pass both to your component.');\r\n            return;\r\n        }\r\n    }\r\n    this.el = el;\r\n    this.$parent = jquery_1[\"default\"](el).parents(LISTING_TITLE_SELECTOR);\r\n    this.state = {\r\n        isOpen: false\r\n    };\r\n    this.registry = registry;\r\n    this.clickOutsideDropDown = this.clickOutsideDropDown.bind(this);\r\n    this.closeDropDown = this.closeDropDown.bind(this);\r\n    this.openDropDown = this.openDropDown.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleKeyEvent = this.handleKeyEvent.bind(this);\r\n    el.addEventListener(clickEvent, this.handleClick);\r\n    el.addEventListener('keydown', this.handleKeyEvent);\r\n    this.$parent.data('close', this.closeDropDown);\r\n}\r\nDropDown.prototype = {\r\n    handleKeyEvent: function (e) {\r\n        var validTriggers = [keys.SPACE, keys.ENTER];\r\n        if (validTriggers.indexOf(e.which) > -1) {\r\n            e.preventDefault();\r\n            this.handleClick(e);\r\n        }\r\n    },\r\n    handleClick: function (e) {\r\n        if (!this.state.isOpen) {\r\n            this.openDropDown(e);\r\n        }\r\n        else {\r\n            this.closeDropDown(e);\r\n        }\r\n    },\r\n    openDropDown: function (e) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        var el = this.el;\r\n        var $parent = this.$parent;\r\n        var toggle = el.querySelector(TOGGLE_SELECTOR);\r\n        this.state.isOpen = true;\r\n        this.registry.closeAllExcept(this);\r\n        el.classList.add(IS_OPEN);\r\n        el.setAttribute(ARIA, false);\r\n        toggle.classList.remove(ICON_DOWN);\r\n        toggle.classList.add(ICON_UP);\r\n        document.addEventListener(clickEvent, this.clickOutsideDropDown, false);\r\n        $parent.addClass(LISTING_ACTIVE_CLASS);\r\n    },\r\n    closeDropDown: function () {\r\n        this.state.isOpen = false;\r\n        var el = this.el;\r\n        var $parent = this.$parent;\r\n        var toggle = el.querySelector(TOGGLE_SELECTOR);\r\n        document.removeEventListener(clickEvent, this.clickOutsideDropDown, false);\r\n        el.classList.remove(IS_OPEN);\r\n        toggle.classList.add(ICON_DOWN);\r\n        toggle.classList.remove(ICON_UP);\r\n        el.setAttribute(ARIA, true);\r\n        $parent.removeClass(LISTING_ACTIVE_CLASS);\r\n    },\r\n    clickOutsideDropDown: function (e) {\r\n        var el = this.el;\r\n        var relTarget = e.relatedTarget || e.toElement;\r\n        if (!jquery_1[\"default\"](relTarget).parents().is(el)) {\r\n            this.closeDropDown();\r\n        }\r\n    }\r\n};\r\nfunction initDropDown() {\r\n    var dropDown = new DropDown(this, DropDownController);\r\n    DropDownController.add(dropDown);\r\n}\r\nfunction handleKeyPress(e) {\r\n    if (e.which === keys.ESC) {\r\n        var open_1 = DropDownController.getOpenDropDown();\r\n        if (open_1) {\r\n            open_1.closeDropDown();\r\n        }\r\n    }\r\n}\r\nfunction initDropDowns() {\r\n    jquery_1[\"default\"](DROPDOWN_SELECTOR).each(initDropDown);\r\n    jquery_1[\"default\"](document).on('keydown', handleKeyPress);\r\n}\r\njquery_1[\"default\"](document).ready(initDropDowns);\r\nwagtail.ui.initDropDowns = initDropDowns;\r\nwagtail.ui.DropDownController = DropDownController;\r\n// provide a workaround for NodeList#forEach not being available in IE 11\r\nfunction qsa(element, selector) {\r\n    return [].slice.call(element.querySelectorAll(selector));\r\n}\r\n// Initialise button selectors\r\nfunction initButtonSelects() {\r\n    qsa(document, '.button-select').forEach(function (element) {\r\n        var inputElement = element.querySelector('input[type=\"hidden\"]');\r\n        qsa(element, '.button-select__option').forEach(function (buttonElement) {\r\n            buttonElement.addEventListener('click', function (e) {\r\n                e.preventDefault();\r\n                inputElement.value = buttonElement.value;\r\n                qsa(element, '.button-select__option--selected').forEach(function (selectedButtonElement) {\r\n                    selectedButtonElement.classList.remove('button-select__option--selected');\r\n                });\r\n                buttonElement.classList.add('button-select__option--selected');\r\n            });\r\n        });\r\n    });\r\n}\r\njquery_1[\"default\"](document).ready(initButtonSelects);\r\nwindow.wagtail = wagtail;\r\n","module.exports = jQuery;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n// It's empty as some runtime module handles the default behavior\n__webpack_require__.x = function() {}\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.j = 321;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t321: 0\n};\n\nvar deferredModules = [\n\t[94639,920],\n\t[90971,920]\n];\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\nvar checkDeferredModules = function() {};\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tvar executeModules = data[3];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n\t// add entry modules from loaded chunk to deferred list\n\tif(executeModules) deferredModules.push.apply(deferredModules, executeModules);\n\n\t// run deferred modules when all chunks ready\n\treturn checkDeferredModules();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwagtail\"] = self[\"webpackChunkwagtail\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n\nfunction checkDeferredModulesImpl() {\n\tvar result;\n\tfor(var i = 0; i < deferredModules.length; i++) {\n\t\tvar deferredModule = deferredModules[i];\n\t\tvar fulfilled = true;\n\t\tfor(var j = 1; j < deferredModule.length; j++) {\n\t\t\tvar depId = deferredModule[j];\n\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferredModules.splice(i--, 1);\n\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n\t\t}\n\t}\n\tif(deferredModules.length === 0) {\n\t\t__webpack_require__.x();\n\t\t__webpack_require__.x = function() {};\n\t}\n\treturn result;\n}\nvar startup = __webpack_require__.x;\n__webpack_require__.x = function() {\n\t// reset startup function so it can be called again when more startup code is added\n\t__webpack_require__.x = startup || (function() {});\n\treturn (checkDeferredModules = checkDeferredModulesImpl)();\n};","// run startup\nreturn __webpack_require__.x();\n"],"sourceRoot":""}